# 애플리케이션과 컨테이너 구성

도커 스터디 - 처음부터 제대로 배우는 도커/쿠버네티스 컨테이너 개발과 운영 ch. 3

*created: 2026.2.3*

---

### 정기적으로 잡을 실행하는 애플리케이션
- 크론*cron* 사용

방법
1. 잡 컨테이너에 실행 API를 준비하고 크론 컨테이너에서 컨테이너 간 통신으로 API 호출
2. 크론 컨테이너에 도커를 구축하고 잡 컨테이너 실행

-> 완전 복잡하다!


```dockerfile
FROM ubuntu:24.04

RUN apt update
RUN apt install -y cron

COPY task.sh /usr/local/bin/
COPY cron-example /etc/cron.d/
RUN chmod 0644 /etc/cron.d/cron-example

CMD ["cron", "-f"]
```

- ubuntu 23.10은 지원이 종료되어 24.04 사용
- 하나의 컨테이너 = 하나의 프로세스 방식보다 하나의 컨테이너로 여러 프로세스를 실행

### 하나의 컨테이너에 하나의 관심사
>Each container should have only one concern

- 하나의 관심사: 하나의 컨테이너가 하나의 역할과 문제영역(도메인)에만 집중해야 한다
- 상세한 역할을 재정의하여 단순한 구성으로
    - 1분 간격으로 잡 트리거를 실행하는 크론, Hello!를 출력하는 잡 -> 1분마다 Hello!를 출력한다
